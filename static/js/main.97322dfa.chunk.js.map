{"version":3,"sources":["context/AuthContext.js","components/Login.js","components/UserData.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","AuthProvider","props","useState","user","undefined","authState","setAuthState","useEffect","onAuthStateChanged","a","Provider","value","children","Login","useContext","googleProvider","GoogleAuthProvider","handleSignIn","signInWithGoogle","signInWithPopup","then","res","console","log","toast","displayName","email","catch","error","message","signOut","Fragment","Col","Row","Button","variant","onClick","className","UserData","dbItems","setDbItems","db","firestore","thingsDb","collection","addItemToDb","howMany","newItem","faker","commerce","productName","batch","i","thingsDbRef","doc","set","itemid","uuid","uid","name","category","createdAt","FieldValue","serverTimestamp","commit","addOneItemToDb","addTenItemsToDb","deleteFiftyFromDb","where","limit","get","queryResult","forEach","delete","ref","deleteFromDb","unsubscribe","orderBy","onSnapshot","querySnapshot","items","docs","map","data","Alert","autoFocus","item","render","App","Container","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97322dfa.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nexport const AuthContext = createContext();\n\nif (!firebase.apps.length) {\n\tfirebase.initializeApp({\n\t\tapiKey: \"AIzaSyACCHgp6UEYQcIdtcW8V7KWEn2T8DVAe1k\",\n\t\tauthDomain: \"fir-react-demo-c5a92.firebaseapp.com\",\n\t\tprojectId: \"fir-react-demo-c5a92\",\n\t\tstorageBucket: \"fir-react-demo-c5a92.appspot.com\",\n\t\tmessagingSenderId: \"80104492686\",\n\t\tappId: \"1:80104492686:web:a81ae7d80c0acb7c5c03df\",\n\t\tmeasurementId: \"G-5K9794DBGX\",\n\t});\n} else {\n\tfirebase.app();\n}\n\nexport const auth = firebase.auth();\n\nexport const AuthProvider = (props) => {\n\tconst [authState, setAuthState] = useState({ user: undefined });\n\n\tuseEffect(() => {\n\t\tauth.onAuthStateChanged(async (user) => {\n\t\t\tsetAuthState({\n\t\t\t\tuser: user,\n\t\t\t});\n\t\t});\n\t}, []);\n\n\treturn <AuthContext.Provider value={[authState, setAuthState]}>{props.children}</AuthContext.Provider>;\n};\n","import React, { useContext } from \"react\";\nimport { Button, Col, Row } from \"react-bootstrap\";\nimport { AuthContext, auth } from \"../context/AuthContext\";\nimport { toast } from \"react-toastify\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nexport default function Login() {\n\tconst [authState, setAuthState] = useContext(AuthContext);\n\n\tconst googleProvider = new firebase.auth.GoogleAuthProvider();\n\n\tconst handleSignIn = () => {\n\t\tsignInWithGoogle();\n\t};\n\n\tconst signInWithGoogle = () => {\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithPopup(googleProvider)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.user);\n\t\t\t\ttoast(\"ðŸ‘‹ Hello \" + res.user.displayName + \" (\" + res.user.email + \")\");\n\t\t\t\tsetAuthState({ ...authState, user: res.user });\n\t\t\t\treturn res.user;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\ttoast(\"ðŸ’” Login failed : \" + error.message);\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t};\n\n\tconst signOut = () => {\n\t\tauth.signOut();\n\t\tsetAuthState({ ...authState, user: undefined });\n\t};\n\n\tconst renderLoginOrLogout = () => {\n\t\tif (!authState.user) {\n\t\t\treturn (\n\t\t\t\t<Button variant=\"danger\" onClick={handleSignIn}>\n\t\t\t\t\t<i className=\"bi bi-google\"></i>&nbsp;Login with Google\n\t\t\t\t</Button>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Button variant=\"danger\" onClick={signOut}>\n\t\t\t\t\t<i className=\"bi bi-google\"></i>&nbsp;Log Out\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Col>\n\t\t\t\t<Row>{renderLoginOrLogout()}</Row>\n\t\t\t</Col>\n\t\t</React.Fragment>\n\t);\n}\n","/* eslint-disable */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport faker from \"faker\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport { Button, Col, Row, Alert } from \"react-bootstrap\";\nimport { v4 as uuid } from \"uuid\";\nimport { toast } from \"react-toastify\";\n\nconst UserData = () => {\n\tconst [authState] = useContext(AuthContext);\n\n\tconst [dbItems, setDbItems] = useState();\n\n\tconst db = firebase.firestore();\n\n\tconst thingsDb = db.collection(\"things\");\n\n\tconst addItemToDb = (howMany) => {\n\t\tif (!howMany) howMany = 1;\n\t\tconst newItem = faker.commerce.productName();\n\t\tvar batch = db.batch();\n\t\tfor (var i = 0; i < howMany; i++) {\n\t\t\tvar thingsDbRef = thingsDb.doc();\n\t\t\tbatch.set(thingsDbRef, {\n\t\t\t\titemid: uuid(),\n\t\t\t\tuid: authState.user.uid,\n\t\t\t\tname: newItem,\n\t\t\t\tcategory: \"commerce.productName\",\n\t\t\t\tcreatedAt: firebase.firestore.FieldValue.serverTimestamp(),\n\t\t\t});\n\t\t}\n\t\tbatch.commit();\n\t};\n\n\tconst addOneItemToDb = () => {\n\t\taddItemToDb(1);\n\t};\n\n\tconst addTenItemsToDb = () => {\n\t\taddItemToDb(10);\n\t};\n\n\tconst deleteFromDb = (howMany) => {\n\t\tif (!howMany) howMany = 1;\n\t\tvar batch = db.batch();\n\t\tthingsDb\n\t\t\t.where(\"uid\", \"==\", authState.user.uid)\n\t\t\t.limit(howMany)\n\t\t\t.get()\n\t\t\t.then((queryResult) => {\n\t\t\t\tqueryResult.forEach((doc) => {\n\t\t\t\t\tbatch.delete(doc.ref);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tbatch.commit();\n\t\t\t});\n\t};\n\n\tconst deleteFiftyFromDb = () => {\n\t\tdeleteFromDb(50);\n\t};\n\n\t/*\tconst deleteAllFromDb = () => {\n\t\tfor (var i = dbItems.length; i >= 0 || i + 50 > 0; ) {\n\t\t\tif (!waitForMe) {\n\t\t\t\ttoast(i);\n\t\t\t\tdeleteFromDb();\n\t\t\t\ti -= 50;\n\t\t\t}\n\t\t}\n\t};*/\n\n\tuseEffect(async () => {\n\t\tlet unsubscribe;\n\t\tif (authState.user) {\n\t\t\tunsubscribe = thingsDb\n\t\t\t\t.where(\"uid\", \"==\", authState.user.uid)\n\t\t\t\t.orderBy(\"createdAt\")\n\t\t\t\t.onSnapshot((querySnapshot) => {\n\t\t\t\t\tconst items = querySnapshot.docs.map((doc) => {\n\t\t\t\t\t\treturn doc.data();\n\t\t\t\t\t});\n\t\t\t\t\tsetDbItems(items);\n\t\t\t\t});\n\t\t} else {\n\t\t\tunsubscribe && unsubscribe();\n\t\t}\n\t}, [authState.user]);\n\n\tconst render = () => {\n\t\tif (authState.user) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Alert variant=\"success\">\n\t\t\t\t\t\t\t\t<i className=\"bi bi-person-check-fill\"></i>&nbsp;Logged in as {authState.user.displayName}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Button onClick={addOneItemToDb} autoFocus>\n\t\t\t\t\t\t\t\t<i className=\"bi bi-plus-lg\"></i>&nbsp;Add a Random Item\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Button onClick={addTenItemsToDb} autoFocus>\n\t\t\t\t\t\t\t\t<i className=\"bi bi-plus-lg\"></i>&nbsp;Add 10 Random Items\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Button onClick={deleteFiftyFromDb} variant=\"warning\">\n\t\t\t\t\t\t\t\t<i className=\"bi bi-trash\"></i>&nbsp;Delete 50 Items\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h3>Total {dbItems && dbItems.length} items</h3>\n\t\t\t\t\t{dbItems &&\n\t\t\t\t\t\tdbItems.map((item) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<span key={item.itemid} className=\"badge bg-success rounded-pill m-1 animate__animated animate__bounceIn\">\n\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn <React.Fragment>{render()}</React.Fragment>;\n};\n\nexport default UserData;\n","import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"animate.css/animate.min.css\";\nimport Login from \"./components/Login\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Container } from \"react-bootstrap\";\nimport { AuthProvider } from \"./context/AuthContext\";\nimport UserData from \"./components/UserData\";\n\nfunction App() {\n\treturn (\n\t\t<Container>\n\t\t\t<AuthProvider>\n\t\t\t\t<Login />\n\t\t\t\t<br />\n\t\t\t\t<UserData />\n\t\t\t</AuthProvider>\n\t\t\t<ToastContainer position=\"bottom-right\" />\n\t\t</Container>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}